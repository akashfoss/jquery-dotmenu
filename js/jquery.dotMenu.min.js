(function(a){a.fn.dotMenu=function(b){function l(b,d){var i=a(this).siblings("li").length+1,j=0,m=a(this).parent("ul").siblings("a").data("a")?a(this).parent("ul").siblings("a").data("a"):c.angle;if(i>0){j=360/i;var n=j*b+m,o=h(n),p=g(k*e(o)),q=g(k*f(o));var s={left:p+"px",top:q+"px"};a(this).data({a:b,r:k,q:n,x:p,y:q})}var t=a(this).children("ul").children("li");k=k/2;t.each(l);k=k*2}function j(b,d){var e=a(b),f=c.speed,g=c.easing;if(d){e.toggle(true).children("li").css({opacity:0}).each(function(){a(this).animate({left:d?a(this).data("x")+"px":0+"px",top:d?a(this).data("y")+"px":0+"px",opacity:d?1:0},f,g)});j(e.parent("li").siblings("li").children("ul"),false);j(e.find("ul"),false);e.children("a").trigger("mouseleave")}else{e.children("li").each(function(){a(this).animate({left:d?a(this).data("x")+"px":0+"px",top:d?a(this).data("y")+"px":0+"px",opacity:d?1:0},f,g)});setTimeout(function(){j(e.find("ul"),false);e.toggle(false)},f)}e.siblings("a").find(".ui-icon").removeClass(c.open+" "+c.closed).addClass(d?c.open:c.closed)}function i(a){return a*180/d}function h(a){return a*d/180}var c=a.extend({radius:400,angle:-90,speed:300,easing:"swing",click:function(a,b){},caption:"jqdm-cap",hover:"ui-state-hover",leaf:"ui-icon-document",open:"ui-icon-folder-open",closed:"ui-icon-folder-collapsed"},b);var d=Math.PI,e=Math.cos,f=Math.sin,g=Math.round;var k=c.radius;return this.each(function(){a(this).addClass("ui-widget");a("a",this).hover(function(){a(this).addClass(c.hover)},function(){a(this).removeClass(c.hover)}).click(function(b){var d=a(this).siblings("ul");if(d.length){b.preventDefault();var e=d.css("display")==="none"?1:0;j(d,e)}else c.click(this,b)}).each(function(){var b=a(this).siblings("ul").length>0?c.closed:c.leaf;a(this).addClass("ui-state-default ui-corner-all").html("<span class='ui-icon "+b+"'></span><span class='"+c.caption+"'>"+a(this).html()+"</span>");var d=a("."+c.caption,this);d.css("margin-left","-"+(d.width()/2-8)+"px")});a("ul",this).css({display:"none"});a(this).children("li").each(l).css({left:"50%",top:"50%"})})}})(jQuery);